// ============================================
// NordexFood SASS Mixins & Functions
// ============================================

// ============================================
// Color Functions
// ============================================

// Function to get brand colors
@function brand-color($color-name) {
  $colors: (
    'green': $nordex-red,
    'orange': $nordex-orange,
    'cream': $nordex-cream,
    'brown': $nordex-brown,
    'gold': $nordex-gold
  );
  
  @return map-get($colors, $color-name);
}

// Function to create food-themed gradients
@function food-gradient($direction: 135deg, $start: $nordex-red, $end: $nordex-orange) {
  @return linear-gradient($direction, $start, $end);
}

// ============================================
// Layout Mixins
// ============================================

// Mixin for consistent section spacing
@mixin section-spacing($padding-top: var(--section-padding), $padding-bottom: var(--section-padding)) {
  padding-top: $padding-top;
  padding-bottom: $padding-bottom;
}

// Mixin for container with max-width
@mixin content-container($max-width: var(--content-max-width)) {
  max-width: $max-width;
  margin-left: auto;
  margin-right: auto;
  padding-left: $container-padding-x;
  padding-right: $container-padding-x;
}

// Mixin for responsive font sizes
@mixin responsive-font($min-size: 1rem, $max-size: 1.5rem, $min-width: 320px, $max-width: 1200px) {
  font-size: $min-size;
  
  @media (min-width: #{$min-width}) and (max-width: #{$max-width}) {
    font-size: calc(#{$min-size} + (#{strip-unit($max-size - $min-size)}) * ((100vw - #{$min-width}) / #{strip-unit($max-width - $min-width)}));
  }
  
  @media (min-width: #{$max-width}) {
    font-size: $max-size;
  }
}

// Strip unit helper function
@function strip-unit($number) {
  @if type-of($number) == 'number' and not unitless($number) {
    @return $number / ($number * 0 + 1);
  }
  @return $number;
}

// ============================================
// Component Mixins
// ============================================

// Mixin for consistent card styling
@mixin food-card($hover-transform: translateY(-5px), $shadow: $box-shadow) {
  background: $card-bg;
  border-radius: $card-border-radius;
  box-shadow: $shadow;
  transition: transform var(--transition-normal), box-shadow var(--transition-normal);
  overflow: hidden;
  
  &:hover {
    transform: $hover-transform;
    box-shadow: $box-shadow-lg;
  }
}

// Mixin for menu item styling
@mixin menu-item($border-color: $border-color) {
  padding: $spacer * 1.5;
  border-bottom: 1px solid $border-color;
  transition: background-color var(--transition-fast);
  
  &:hover {
    background-color: $gray-50;
  }
  
  &:last-child {
    border-bottom: none;
  }
}

// Mixin for price styling
@mixin price-display($color: var(--nordex-orange), $weight: $font-weight-bold) {
  color: $color;
  font-weight: $weight;
  font-size: 1.1em;
  white-space: nowrap;
}

// Mixin for hero sections
@mixin hero-section($min-height: var(--hero-min-height), $overlay: false, $overlay-color: rgba($black, 0.4)) {
  min-height: $min-height;
  position: relative;
  display: flex;
  align-items: center;
  overflow: hidden;
  
  @if $overlay {
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: $overlay-color;
      z-index: 1;
    }
    
    .hero-content {
      position: relative;
      z-index: 2;
    }
  }
}

// ============================================
// Animation Mixins
// ============================================

// Mixin for hover animations
@mixin hover-lift($distance: 5px, $duration: var(--transition-normal)) {
  transition: transform $duration, box-shadow $duration;
  
  &:hover {
    transform: translateY(-#{$distance});
    box-shadow: $box-shadow-lg;
  }
}

// Mixin for fade in animation
@mixin fade-in($duration: var(--transition-normal), $delay: 0s) {
  opacity: 0;
  animation: fadeIn $duration ease-in-out $delay forwards;
  
  @keyframes fadeIn {
    to {
      opacity: 1;
    }
  }
}

// Mixin for slide up animation
@mixin slide-up($distance: 30px, $duration: var(--transition-normal), $delay: 0s) {
  opacity: 0;
  transform: translateY($distance);
  animation: slideUp $duration ease-out $delay forwards;
  
  @keyframes slideUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

// ============================================
// Utility Mixins
// ============================================

// Mixin for text truncation
@mixin text-truncate($lines: 1) {
  @if $lines == 1 {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  } @else {
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

// Mixin for aspect ratio containers
@mixin aspect-ratio($width: 16, $height: 9) {
  position: relative;
  
  &::before {
    content: '';
    display: block;
    padding-top: percentage($height / $width);
  }
  
  > * {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
}

// Mixin for consistent focus styles
@mixin focus-outline($color: $primary, $width: 2px, $offset: 2px) {
  outline: $width solid $color;
  outline-offset: $offset;
}

// ============================================
// Food Industry Specific Mixins
// ============================================

// Mixin for nutrition label styling
@mixin nutrition-label() {
  background: $white;
  border: 2px solid $black;
  padding: $spacer;
  font-family: $font-family-sans-serif;
  font-weight: $font-weight-bold;
  
  .nutrition-header {
    border-bottom: 4px solid $black;
    padding-bottom: $spacer * 0.5;
    margin-bottom: $spacer * 0.5;
    font-size: 1.2em;
  }
  
  .nutrition-row {
    border-bottom: 1px solid $gray-400;
    padding: 0.25rem 0;
    display: flex;
    justify-content: space-between;
  }
}

// Mixin for rating stars
@mixin star-rating($star-size: 1rem, $active-color: var(--nordex-gold), $inactive-color: $gray-300) {
  display: inline-flex;
  gap: 0.125rem;
  
  .star {
    font-size: $star-size;
    color: $inactive-color;
    transition: color var(--transition-fast);
    
    &.active {
      color: $active-color;
    }
  }
}

// Mixin for chef badge/certification
@mixin chef-badge($bg-color: var(--nordex-red), $text-color: $white) {
  display: inline-block;
  background: $bg-color;
  color: $text-color;
  padding: 0.25rem 0.75rem;
  border-radius: $border-radius-pill;
  font-size: 0.875rem;
  font-weight: $font-weight-medium;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}
